---
title: Translate Service API
description: A reference page in my new Starlight docs site.
slug: reference/translate-service-api
---

import { Aside } from '@astrojs/starlight/components';

## Properties

The TranslateService exposes the following properties:

| Property | Description |
|---|---|
| `currentLang` | The lang currently used |
| `defaultLang` |The default (fall-back) language |
| `currentLoader` | An instance of the loader currently used (static loader by default) |
| `onLangChange` | Event emitter that fires when a language changes |
| `onTranslationChange` | Event emitter that fires when the translations change |
| `onDefaultLangChange` | Event emitter that fires when the default language changes |

## Event Emitters

### onLangChange (Event Emitter)

An EventEmitter to listen to lang change events. A `LangChangeEvent` is an object
with the properties:

| Name | Type | Description |
|---|---|---|
| `lang` | `string` | the code of the activated language |
| `translations` | `any` | an object containing your translations |

Example:
```typescript
onLangChange.subscribe((event: LangChangeEvent) => {
    // do something
);
```

### onTranslationChange (Event Emitter)

An EventEmitter to listen to translation change events.

A `TranslationChangeEvent` is an object with the properties:

| Name | Type | Description |
|---|---|---|
| `lang` | `string` | the code of the activated language |
| `translations` | `any` | an object containing your translations |

Example:

```ts
onTranslationChange.subscribe((event: TranslationChangeEvent) => {
    // do something
);
```


### onDefaultLangChange (Event Emitter)

An EventEmitter to listen to default lang change events.
A `DefaultLangChangeEvent` is an object with the following properties:

| Name | Type | Description |
|---|---|---|
| `lang` | `string` | the code of the activated language |
| `translations` | `any` | an object containing your translations |


Example:
```ts
onDefaultLangChange.subscribe((event: DefaultLangChangeEvent) => {
    // do something
);
```

## Functions

### setDefaultLang

~~~ ts
setDefaultLang(lang: string)
~~~

Sets the default language to use as a fallback.
A translation is used from the default language, if no translation is found
in the current language.

Calling `setDefaultLang` uses the loader to retrieve the language and
updates the list of available languages which can be retrieved using [`getLangs`](#getlangs).

### getDefaultLang

~~~ts
getDefaultLang(): string
~~~

Returns the default language.

### use

~~~ts
use(lang: string): Observable<any>
~~~

Changes the currently active language. This invokes the current loader to retrieve the translations
if the language is not yet loaded.

Calling `use` uses the loader to retrieve the language and
updates the list of available languages which can be retrieved using [`getLangs`](#getlangs).

### getTranslation

~~~ts
getTranslation(lang: string): Observable<any>
~~~

Gets an object of translations for a given language with the current loader.

### setTranslation

~~~ts
setTranslation(lang: string, translations: Object, shouldMerge: boolean = false)
~~~

Manually sets an object of translations for a given language,
set `shouldMerge` to true if you want to append the translations instead of replacing them.

Using `setTranslation` updates the list of available languages which can be retrieved using [`getLangs`](#getlangs).


### addLangs

~~~ts
addLangs(langs: Array<string>)
~~~

Add new languages to the list. This does **not** invoke the loader to retrieve the languages.


### getLangs

~~~ts
getLangs(): string
~~~

Returns an array of currently available languages. The list can be extended
calling  [`setDefaultLang`](#setdefaultlang), [`use`](#use), [`setTranslation`](#settranslation)
or[`addLangs`](#addlangs).


### get

~~~ts
get(key: string|Array<string>, interpolateParams?: Object): Observable<string|Object>
~~~

Gets the translated value of a key (or an array of keys) or the key if the value was not found.
The `Observable` fires after the language file is loaded. Use [`stream`](#stream) if you
want to get updates to language changes, too.

### getStreamOnTranslationChange

~~~ts
getStreamOnTranslationChange(key: string|Array<string>, interpolateParams?: Object): Observable<string|Object>
~~~

Returns a stream of translated values of a key (or an array of keys) or the key if
the value was not found. Without any [`onTranslationChange`](#ontranslationchange-event-emitter)`` events this returns the same
value as [`get`](#get) but it will also emit new values whenever the translation changes.

### stream

~~~ts
stream(key: string|Array<string>, interpolateParams?: Object): Observable<string|Object>
~~~

Returns a stream of translated values of a key (or an array of keys) or the key if
the value was not found. Without any [`onLangChange`](#onlangchange-event-emitter) events this returns the same
value as [`get`](#get) but it will also emit new values whenever the used language changes.

### instant

~~~ts
instant(key: string|Array<string>, interpolateParams?: Object): string|Object
~~~

Gets the instant translated value of a key (or an array of keys).

<Aside type="caution">

This method is **synchronous** and the default file loader is asynchronous. You are responsible for knowing when your translations
have been loaded and it is safe to use this method. If you are not sure then you should use the [`get`](#get) method instead.

</Aside>

### set

~~~ts
set(key: string, value: string, lang?: string)
~~~

Sets the translated value of a key.

### reloadLang

~~~ts
reloadLang(lang: string): Observable<string|Object>
~~~

Calls [`resetLang`](#resetlang) and retrieves the translations object for the current loader

### resetLang

~~~ts
resetLang(lang: string)
~~~

Removes the current translations for this lang.

<Aside type="caution">

You will have to call [`use`](#use), [`reloadLang`](#reloadlang) or [`getTranslation`](#gettranslation) again
to be able to get translations

</Aside>

### getBrowserLang

~~~ts
getBrowserLang(): string | undefined
~~~

Returns the current browser lang if available, or undefined otherwise.

### getBrowserCultureLang

~~~ts
getBrowserCultureLang(): string | undefined
~~~

Returns the current browser culture language name (e.g. "de-DE" if available), or undefined otherwise

